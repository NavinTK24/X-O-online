<!DOCTYPE html>
<html>

<head>
    <title>Box Check</title>
    <link rel="icon" href="data:">

    <style>
        * {
            margin: 0px;
            padding: 0px;
        }
        body {
            background: linear-gradient(45deg, cyan, rgb(252, 7, 178));
        } 
        .container {
            display: flex;
            height: 100vh;
            align-items: center;
            justify-content: center;
        }

        .boxes {
            border: 1px solid black;
            height: 80px;
            width: 80px;
            margin: 4px;
            border-radius: 7px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(113, 93, 126);
        }
        .row1, .row2, .row3 {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row1">
            <div class="boxes" id="box1"></div>
            <div class="boxes" id="box2"></div>
            <div class="boxes" id="box3"></div>
        </div>

        <div class="row2">
            <div class="boxes" id="box4"></div>
            <div class="boxes" id="box5"></div>
            <div class="boxes" id="box6"></div>
        </div>

        <div class="row3">
            <div class="boxes" id="box7"></div>
            <div class="boxes" id="box8"></div>
            <div class="boxes" id="box9"></div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>

    <script>
        const socket = io();
        var count = 0;
        const boxClick = document.querySelectorAll(".boxes");
        boxClick.forEach(box => {

            box.addEventListener('click', (event) => {
                if (event.target.textContent == "") {
                    if (count % 2 == 0) {
                        socket.emit('Xplayer', {id: event.target.id});
                    } else {
                        socket.emit('Oplayer', {id: event.target.id});
                    }
                    count++;
                }
            });
        });
        
        
        socket.on('Xplayer', (data) => {
            const Xbox = document.getElementById(data.id);
            Xbox.style.backgroundColor="cyan";
            Xbox.textContent = "X";
            count = data.count;
            
        });

        socket.on('Oplayer', (data) => {
            const Obox = document.getElementById(data.id);
            Obox.style.backgroundColor="pink";
            Obox.textContent = "O";
            count = data.count;
        });


    </script>
</body>

</html>
